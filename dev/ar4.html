<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.0.0/magnific-popup.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.0.0/jquery.magnific-popup.min.js"></script>

    <style>
      model-viewer{
        height : 400px;
        width : 600px;
        margin: 0 auto;
      }
      #model-container{
        display: flex;
        justify-content: center;
        align-items: center;
        position: absolute;
        width: 50%;
        height: 30%;
        z-index: 10;
        background-color: #eee;
      }
      #headerPopup{
        width:75%;
        margin:0 auto;
      }

      #headerPopup iframe{
        width:100%;
        margin:0 auto;
      }
      model-viewer#reveal {
        --poster-color: transparent;
      }

      .dot{
        display: block;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.25);
        background: #fff;
        --min-hotspot-opacity: 0;
      }
    </style>

    <script>
      // document.getElementById('playVid').onclick = function () {
      //    document.getElementById('video').play();
      // };

      $(document).ready(function() {
        $('#headerVideoLink').magnificPopup({
          type:'inline',
          midClick: true // Allow opening popup on middle mouse click. Always set it to true if you don't provide alternative source in href.
        });         
      });
    </script>
  </head>

  <body style="margin: 0; overflow: hidden;">
    <!-- <video id='video'>
      <source src="../video.mp4" type="video/mp4">
    </video> -->
    <!-- <iframe 
       id="video" 
       class="embed-responsive-item" 
       width="560" 
       height="315" 
       src="../video.mp4" 
       allowfullscreen>
    </iframe>
    <button id='playVid'>Play</button> -->

    <div class="container">
      <div class="row">
        <div class="col-sm-12">
          <p class="text-center mt-5">
            <a href="#headerPopup" id="headerVideoLink" target="_blank" class="btn btn-outline-success popup-modal">PLAY VIDEO</a>
          </p>
          <div id="headerPopup" class="mfp-hide embed-responsive embed-responsive-21by9">
           <iframe class="embed-responsive-item" width="854" height="480" src="../video.mp4" frameborder="0" allowfullscreen></iframe>
          </div>
        </div>
      </div>
    </div>

    

    <model-viewer 
      id="reveal"
      loading="eager"
      src="../models/wine/scene.gltf" 
      ar 
      ar-scale="10%" 
      ar-modes="webxr scene-viewer quick-look"
      camera-controls 
      alt="A 3D model of an astronaut" 
      ios-src="../models/3D_Wine_Bottle_Model.usdz" 
    >
      <button slot="ar-button" style="background-color: white; border-radius: 4px; border: none; position: absolute; top: 16px; right: 16px; ">
        ðŸ‘‹ Activate AR
      </button>
      <button style="background-color: white; border-radius: 4px; border: none; position: absolute; top: 16px; right: 16px; ">Hello</button>
      <button slot="hotspot-dot+X-Y+Z" class="dot" data-position="0 0 0" data-normal="0 0 0"></button>
      
    </model-viewer>  

    <script>
      modelViewer.addEventListener('load', () => {
        const center = modelViewer.getCameraTarget();
        const size = modelViewer.getDimensions();
        const x2 = size.x / 2;
        const y2 = size.y / 2;
        const z2 = size.z / 2;

        modelViewer.updateHotspot({
          name: 'hotspot-dot+X-Y+Z',
          position: `${center.x + x2} ${center.y - y2} ${center.z + z2}`
        });
      });
  
    </script>
    
  </body>
</html>



